(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["signmanage"],{"4f39":function(e,t,a){"use strict";function n(e){var t=new Date(e.substr(0,19)),a=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),i=t.getHours()+8,s=t.getMinutes(),l=t.getSeconds(),u=a+"-";return n<10&&(u+="0"),u+=n+"-",r<10&&(u+="0"),u+=r+" ",i<10&&(u+="0"),u+=i+":",s<10&&(u+="0"),u+=s+":",l<10&&(u+="0"),u+=l,u}a.d(t,"a",(function(){return n}))},caa7:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"SignManage"},[a("download-excel",{staticClass:"export-excel-wrapper",staticStyle:{width:"100px",height:"40px",margin:"15px 15px 15px 0px"},attrs:{data:e.Sign,fields:e.json_fields,name:"签到详情.xls"}},[a("el-button",{staticStyle:{width:"100px",height:"40px"},attrs:{type:"primary",size:"small"}},[e._v("导出EXCEL")])],1),a("el-table",{staticStyle:{width:"800px"},attrs:{data:e.Sign.slice((e.curPage-1)*e.pageSize,e.curPage*e.pageSize),border:""}},[a("el-table-column",{attrs:{prop:"id",label:"签到序号",width:"100"}}),a("el-table-column",{attrs:{prop:"user.number",label:"用户账号",width:"120"}}),a("el-table-column",{attrs:{prop:"user.name",label:"用户姓名",width:"80"}}),a("el-table-column",{attrs:{prop:"user.clbum.name",label:"所属班级",width:"120"}}),a("el-table-column",{attrs:{prop:"signtime",label:"签到时间",width:"100"}}),a("el-table-column",{attrs:{prop:"remark",label:"打卡备注",width:"120"}})],1),a("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{background:"","current-page":e.curPage,"hide-on-single-page":e.value,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.Sign.length},on:{"update:currentPage":function(t){e.curPage=t},"update:current-page":function(t){e.curPage=t}}})],1)},r=[],i=(a("b0c0"),a("09dd")),s=a("4f39"),l={name:"SignManage",created:function(){0!=this.$store.state.number.length&&"admin"===this.$store.state.role.name||this.$router.push({path:"/"}),this.getSign()},data:function(){return{value:!0,pageSize:5,curPage:1,page:0,size:5,Sign:[],json_fields:{ID:"id","姓名":"user.name","账号":"user.number","班级":"user.clbum.name","签到时间":"signtime","打卡备注":"remark"}}},methods:{getSign:function(){var e=this;Object(i["b"])().then((function(t){e.Sign=t.data;for(var a=0;a<e.Sign.length;a++)e.Sign[a].signtime=Object(s["a"])(e.Sign[a].signtime)})).catch((function(t){"error"!==t&&e.$message({type:"error",message:"签到信息加载失败!",showClose:!0})}))}}},u=l,g=a("2877"),o=Object(g["a"])(u,n,r,!1,null,"4c4a5e0c",null);t["default"]=o.exports}}]);
//# sourceMappingURL=signmanage.5a7dce9b.js.map