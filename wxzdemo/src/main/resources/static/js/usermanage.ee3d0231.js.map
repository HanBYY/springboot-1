{"version":3,"sources":["webpack:///./src/views/User/UserManage.vue?37e1","webpack:///./src/views/User/UserManage.vue?d183","webpack:///src/views/User/UserManage.vue","webpack:///./src/views/User/UserManage.vue?0726","webpack:///./src/views/User/UserManage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","User","json_fields","_v","on","$event","dialogFormVisible","model","value","callback","$$v","input","expression","findlink","slot","slice","curPage","pageSize","scopedSlots","_u","key","fn","scope","row","avatar","length","staticRenderFns","component"],"mappings":"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","file":"js/usermanage.ee3d0231.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManage.vue?vue&type=style&index=0&id=6d373992&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManage.vue?vue&type=style&index=0&id=6d373992&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"UserManage\"},[_c('download-excel',{staticClass:\"export-excel-wrapper\",staticStyle:{\"width\":\"100px\",\"height\":\"40px\",\"margin\":\"15px 15px 15px 0px\",\"float\":\"left\"},attrs:{\"data\":_vm.User,\"fields\":_vm.json_fields,\"name\":\"用户详情.xls\"}},[_c('el-button',{staticStyle:{\"width\":\"100px\",\"height\":\"40px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"导出EXCEL\")])],1),_c('el-button',{staticStyle:{\"margin\":\"15px 15px 15px 0px\"},attrs:{\"type\":\"success\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"添加\")]),_c('el-input',{staticStyle:{\"width\":\"300px\",\"margin\":\"15px 15px 15px 0px\"},attrs:{\"placeholder\":\"输入关键词搜索用户...\"},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.findlink()}},slot:\"append\"})],1),_c('el-table',{staticStyle:{\"width\":\"850px\"},attrs:{\"data\":_vm.User.slice((_vm.curPage - 1)*_vm.pageSize,_vm.curPage*_vm.pageSize),\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"用户编号\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"label\":\"头像\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{attrs:{\"src\":scope.row.avatar,\"width\":\"80\",\"height\":\"80\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"姓名\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"number\",\"label\":\"账号\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"clbum.name\",\"label\":\"所属班级\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"role.name\",\"label\":\"权限\",\"width\":\"120\"}})],1),_c('el-pagination',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"background\":\"\",\"current-page\":_vm.curPage,\"hide-on-single-page\":_vm.value,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.User.length},on:{\"update:currentPage\":function($event){_vm.curPage=$event},\"update:current-page\":function($event){_vm.curPage=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"UserManage\">\r\n        <download-excel\r\n                class = \"export-excel-wrapper\"\r\n                :data = \"User\"\r\n                :fields = \"json_fields\"\r\n                name = \"用户详情.xls\"\r\n                style=\"width:100px;height:40px;margin:15px 15px 15px 0px;float: left;\">\r\n            <!-- 上面可以自定义自己的样式，还可以引用其他组件button -->\r\n            <el-button\r\n                    type=\"primary\"\r\n                    size=\"small\"\r\n                    style=\"width:100px;height:40px;\">导出EXCEL</el-button>\r\n        </download-excel>\r\n        <el-button type=\"success\"\r\n                   style=\"margin:15px 15px 15px 0px;\"\r\n                   @click=\"dialogFormVisible = true\">添加</el-button>\r\n        <el-input\r\n                placeholder=\"输入关键词搜索用户...\"\r\n                v-model=\"input\"\r\n                style=\"width:300px;margin:15px 15px 15px 0px;\">\r\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"findlink()\"></el-button>\r\n        </el-input>\r\n        <el-table\r\n                :data=\"User.slice((curPage - 1)*pageSize,curPage*pageSize)\"\r\n                border\r\n                style=\"width: 850px\">\r\n            <el-table-column\r\n                    prop=\"id\"\r\n                    label=\"用户编号\"\r\n                    width=\"100\">\r\n            </el-table-column>\r\n            <el-table-column label=\"头像\">\r\n                <template slot-scope=\"scope\">\r\n                    <img :src=\"scope.row.avatar\" width=\"80\" height=\"80\"/>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n                    prop=\"name\"\r\n                    label=\"姓名\"\r\n                    width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    prop=\"number\"\r\n                    label=\"账号\"\r\n                    width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    prop=\"clbum.name\"\r\n                    label=\"所属班级\"\r\n                    width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    prop=\"role.name\"\r\n                    label=\"权限\"\r\n                    width=\"120\">\r\n            </el-table-column>\r\n            <!--<el-table-column-->\r\n                    <!--fixed=\"right\"-->\r\n                    <!--label=\"操作\">-->\r\n                <!--<template slot-scope=\"scope\">-->\r\n                    <!--<el-button @click=\"edit(scope.row)\" type=\"primary\" icon=\"el-icon-edit\" circle></el-button>-->\r\n                    <!--<el-button @click=\"deleteuser(scope.row)\" type=\"danger\" icon=\"el-icon-delete\" circle></el-button>-->\r\n                <!--</template>-->\r\n            <!--</el-table-column>-->\r\n        </el-table>\r\n        <el-pagination\r\n                background\r\n                :current-page.sync=\"curPage\"\r\n                :hide-on-single-page=\"value\"\r\n                :page-size=\"pageSize\"\r\n                layout=\"total, prev, pager, next, jumper\"\r\n                :total=\"User.length\"\r\n                style=\"margin-top:20px;\">\r\n        </el-pagination>\r\n        <!--<el-dialog title=\"添加用户\" :visible.sync=\"dialogFormVisible\">-->\r\n            <!--<el-form :model=\"form\">-->\r\n                <!--<el-form-item label=\"头像\">-->\r\n                    <!--<el-upload-->\r\n                            <!--class=\"avatar-uploader\"-->\r\n                            <!--action=\"https://jsonplaceholder.typicode.com/posts/\"-->\r\n                            <!--:show-file-list=\"false\"-->\r\n                            <!--:on-success=\"handleAvatarSuccess\"-->\r\n                            <!--:before-upload=\"beforeAvatarUpload\">-->\r\n                        <!--<img v-if=\"form.avatar\" :src=\"form.avatar\" class=\"avatar\">-->\r\n                        <!--<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>-->\r\n                    <!--</el-upload>-->\r\n                <!--</el-form-item>-->\r\n                <!--<el-form-item label=\"用户姓名\">-->\r\n                    <!--<el-input v-model=\"form.name\"></el-input>-->\r\n                <!--</el-form-item>-->\r\n                <!--<el-form-item label=\"用户账号\">-->\r\n                    <!--<el-input v-model=\"form.number\"></el-input>-->\r\n                <!--</el-form-item>-->\r\n                <!--<el-form-item label=\"用户密码\">-->\r\n                    <!--<el-input type=\"password\" v-model=\"form.password\" autocomplete=\"off\"></el-input>-->\r\n                <!--</el-form-item>-->\r\n                <!--<el-form-item label=\"所属班级\">-->\r\n                    <!--<el-select v-model=\"form.clbum\" placeholder=\"请选择用户所属班级\">-->\r\n                        <!--<el-option label=\"班级一\" value=\"shanghai\"></el-option>-->\r\n                        <!--<el-option label=\"班级二\" value=\"beijing\"></el-option>-->\r\n                    <!--</el-select>-->\r\n                <!--</el-form-item>-->\r\n                <!--<el-form-item label=\"选择权限\">-->\r\n                    <!--<el-select v-model=\"form.role\" placeholder=\"请选择用户权限\">-->\r\n                        <!--<el-option label=\"用户\" value=\"shanghai\"></el-option>-->\r\n                        <!--<el-option label=\"管理员\" value=\"beijing\"></el-option>-->\r\n                    <!--</el-select>-->\r\n                <!--</el-form-item>-->\r\n            <!--</el-form>-->\r\n            <!--<div slot=\"footer\" class=\"dialog-footer\">-->\r\n                <!--<el-button @click=\"dialogFormVisible = false\">取 消</el-button>-->\r\n                <!--<el-button type=\"primary\" @click=\"adduser()\">确 定</el-button>-->\r\n            <!--</div>-->\r\n        <!--</el-dialog>-->\r\n        <!--<el-dialog title=\"修改用户\" :visible.sync=\"dialogForm\">-->\r\n            <!--<el-form :model=\"userform\">-->\r\n                <!--<el-form-item label=\"用户名称\">-->\r\n                    <!--<el-input v-model=\"userform.name\" autocomplete=\"off\"></el-input>-->\r\n                <!--</el-form-item>-->\r\n            <!--</el-form>-->\r\n            <!--<div slot=\"footer\" class=\"dialog-footer\">-->\r\n                <!--<el-button @click=\"dialogForm = false\">取 消</el-button>-->\r\n                <!--<el-button type=\"primary\" @click.native.prevent=\"edituser('userform')\">确 定</el-button>-->\r\n            <!--</div>-->\r\n        <!--</el-dialog>-->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {getAllUser,findByUserNameLike,saveUser,update,deleteuser} from '@/api/user'\r\n\r\n    export default {\r\n        name: \"UserManage\",\r\n        created() {\r\n            if (this.$store.state.number.length != 0) {\r\n                if (this.$store.state.role.name === 'admin') {\r\n                }else {\r\n                    this.$router.push({path: '/'})\r\n                }\r\n            }else {\r\n                this.$router.push({path: '/'})\r\n            };\r\n            this.getUser();\r\n        },\r\n        data() {\r\n            return {\r\n                input: '',\r\n                value: true,//当只有一页时隐藏分页\r\n                pageSize:5,//每页多少条\r\n                curPage:1,//第几页\r\n                page:0,\r\n                size:5,\r\n                User: [],\r\n                json_fields: {\r\n                    \"ID\": \"id\",\r\n                    \"姓名\": \"name\",\r\n                    \"账号\": \"number\",\r\n                    \"班级\": \"clbum.name\"\r\n                },\r\n                dialogFormVisible: false,\r\n                dialogForm: false,\r\n                form: {\r\n                    name: '',\r\n                    number:'',\r\n                    avatar:'',\r\n                    clbum:'',\r\n                    password: '',\r\n                    role:''\r\n                },\r\n                userform:{\r\n                    id:'',\r\n                    name:'',\r\n                    number:'',\r\n                    avatar:'',\r\n                    clbum:'',\r\n                    password: '',\r\n                    role:''\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n\r\n            getUser() {\r\n                let that = this\r\n                getAllUser().then(data => {\r\n                    that.User = data.data\r\n                }).catch(error => {\r\n                    if (error !== 'error') {\r\n                        that.$message({type: 'error', message: '用户信息加载失败!', showClose: true})\r\n                    }\r\n                })\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .avatar-uploader .el-upload {\r\n        border: 1px dashed #d9d9d9;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n    .avatar-uploader .el-upload:hover {\r\n        border-color: #409EFF;\r\n    }\r\n    .avatar-uploader-icon {\r\n        font-size: 28px;\r\n        color: #8c939d;\r\n        width: 178px;\r\n        height: 178px;\r\n        line-height: 178px;\r\n        text-align: center;\r\n    }\r\n    .avatar {\r\n        width: 178px;\r\n        height: 178px;\r\n        display: block;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserManage.vue?vue&type=template&id=6d373992&scoped=true&\"\nimport script from \"./UserManage.vue?vue&type=script&lang=js&\"\nexport * from \"./UserManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserManage.vue?vue&type=style&index=0&id=6d373992&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d373992\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}